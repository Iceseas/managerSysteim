(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c3b3059"],{"322a":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"Icontainer",staticStyle:{display:"flex","flex-direction":"column"}},[e("div",{staticClass:"IcontainerTopRow"},[e("div",{staticClass:"IcontainerTopTitle"},[t._v("查询列表")]),e("div",{staticClass:"IcontainerTopBtns"},[e("Button",{staticClass:"marginR10",attrs:{type:"primary"},on:{click:t.searchFn}},[t._v("查询")]),e("Button",{attrs:{type:"primary"},on:{click:t.resetFn}},[t._v("重置")])],1)]),e("div",{staticClass:"searchFormBody"},[e("Form",{ref:"formList",attrs:{"label-colon":!0,model:t.FormData.data,rules:t.FormData.rules,"label-width":100}},[e("Row",[e("Col",{attrs:{span:6}},[e("FormItem",{attrs:{label:"模糊搜索",prop:"kw"}},[e("Input",{attrs:{clearable:"",placeholder:"用户名/姓名/角色"},model:{value:t.FormData.data.kw,callback:function(a){t.$set(t.FormData.data,"kw",a)},expression:"FormData.data.kw"}})],1)],1)],1)],1)],1)]),e("div",{staticClass:"Icontainer"},[e("div",{staticClass:"IcontainerTopRow"},[e("div",{staticClass:"IcontainerTopTitle"},[t._v("数据列表")]),e("div",{staticClass:"IcontainerTopBtns"},[e("Button",{attrs:{type:"primary"},on:{click:t.openUserFrom}},[t._v("添加用户")])],1)]),e("Table",{attrs:{height:t.table.height,stripe:"",border:"",loadin:t.table.loading,columns:t.table.columns,data:t.table.tableData},scopedSlots:t._u([{key:"userimg",fn:function(t){var a=t.row;return[a.userimg.length>1?e("Avatar",{attrs:{src:a.userimg}}):e("Avatar",{attrs:{icon:"ios-person"}})]}},{key:"gender",fn:function(a){var s=a.row;return["1"===s.gender?e("Tag",{attrs:{size:"large",color:"geekblue"}},[t._v("男")]):e("Tag",{attrs:{size:"large",color:"magenta"}},[t._v("女")])]}},{key:"userRole",fn:function(a){var s=a.row;a.index;return["1"===s.userRole?e("Tag",{attrs:{color:"cyan",size:"large"}},[t._v("老师")]):e("Tag",{attrs:{color:"purple",size:"large"}},[t._v("学生")])]}},{key:"status",fn:function(a){var s=a.row;return["1"===s.status?e("Tag",{attrs:{color:"green",size:"large"}},[t._v("启用")]):e("Tag",{attrs:{color:"red",size:"large"}},[t._v("禁用")])]}},{key:"action",fn:function(a){var s=a.row;a.index;return[e("Button",{staticClass:"marginR10",attrs:{type:"info"},on:{click:function(a){return t.editFn(s)}}},[t._v("编辑")]),e("Button",{staticClass:"marginR10",attrs:{type:"error"},on:{click:function(a){return t.delFn(s)}}},[t._v("删除")]),e("Button",{attrs:{type:"success"}},[t._v("密码重置")])]}}])})],1),e("Page",{attrs:{total:t.table.total,current:t.table.page,"page-size":t.table.pageSize,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}}),e("openUserFrom",{ref:"openUserFrom",on:{callBack:t.handleAddNewUser}})],1)},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Modal",{attrs:{width:"30%"},model:{value:t.modalData.modalBoolean,callback:function(a){t.$set(t.modalData,"modalBoolean",a)},expression:"modalData.modalBoolean"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.modalData.title))])]),e("div",[e("Form",{ref:"formList",attrs:{"label-colon":!0,model:t.FormData.data,rules:t.FormData.rules,"label-width":80}},[e("Row",[e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"姓名",prop:"userName"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.userName,callback:function(a){t.$set(t.FormData.data,"userName",a)},expression:"FormData.data.userName"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"用户名",prop:"discount"}},[e("Input",{attrs:{disabled:t.isDisabled,placeholder:"请输入"},model:{value:t.FormData.data.discount,callback:function(a){t.$set(t.FormData.data,"discount",a)},expression:"FormData.data.discount"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"密码",prop:"password"}},[e("Input",{attrs:{disabled:t.isDisabled,type:"password",placeholder:"请输入"},model:{value:t.FormData.data.password,callback:function(a){t.$set(t.FormData.data,"password",a)},expression:"FormData.data.password"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"电话",prop:"telephone"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.telephone,callback:function(a){t.$set(t.FormData.data,"telephone",a)},expression:"FormData.data.telephone"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"性别",prop:"gender"}},[e("Select",{model:{value:t.FormData.data.gender,callback:function(a){t.$set(t.FormData.data,"gender",a)},expression:"FormData.data.gender"}},[e("Option",{attrs:{value:"1",label:"男性"}},[e("span",[t._v("男性")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("male")])]),e("Option",{attrs:{value:"0",label:"女性"}},[e("span",[t._v("女性")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("female")])])],1)],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"角色",prop:"userRole"}},[e("Select",{model:{value:t.FormData.data.userRole,callback:function(a){t.$set(t.FormData.data,"userRole",a)},expression:"FormData.data.userRole"}},[e("Option",{attrs:{value:"1",label:"老师"}},[e("span",[t._v("老师")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("Teacher")])]),e("Option",{attrs:{value:"0",label:"学生"}},[e("span",[t._v("学生")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("Student")])])],1)],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"年级",prop:"userGrade"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.userGrade,callback:function(a){t.$set(t.FormData.data,"userGrade",a)},expression:"FormData.data.userGrade"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"班级",prop:"userClass"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.userClass,callback:function(a){t.$set(t.FormData.data,"userClass",a)},expression:"FormData.data.userClass"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"头像",prop:"userimg"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.userimg,callback:function(a){t.$set(t.FormData.data,"userimg",a)},expression:"FormData.data.userimg"}})],1)],1),e("Col",{attrs:{span:12}},[e("FormItem",{attrs:{label:"状态",prop:"status"}},[e("Select",{model:{value:t.FormData.data.status,callback:function(a){t.$set(t.FormData.data,"status",a)},expression:"FormData.data.status"}},[e("Option",{attrs:{value:"1",label:"启用"}},[e("span",[t._v("启用")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("use")])]),e("Option",{attrs:{value:"0",label:"禁用"}},[e("span",[t._v("禁用")]),e("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("useless")])])],1)],1)],1),e("Col",{attrs:{span:12}},[0==t.FormData.data.userRole?e("FormItem",{attrs:{label:"学号",prop:"stuID"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.stuID,callback:function(a){t.$set(t.FormData.data,"stuID",a)},expression:"FormData.data.stuID"}})],1):t._e()],1),e("Col",{attrs:{span:12}},[0==t.FormData.data.userRole?e("FormItem",{attrs:{label:"专业",prop:"major"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.FormData.data.major,callback:function(a){t.$set(t.FormData.data,"major",a)},expression:"FormData.data.major"}})],1):t._e()],1)],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{size:"large"},on:{click:t.closeModal}},[t._v("取消")]),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.addNewQS}},[t._v("确定")])],1)])},n=[],i={data:function(){return{modalData:{title:"添加用户",modalBoolean:!1},nowType:"",isDisabled:!1,rePassword:"",FormData:{rules:{},data:{userName:"",discount:"",password:"",telephone:"",gender:"0",userRole:"1",userGrade:"",userClass:"",userimg:"",status:"1",stuID:"",major:"",isOnline:!1}}}},methods:{init:function(t,a){this.nowType=t,"edit"===t?(this.isDisabled=!0,this.modalData.title="更新用户信息",this.FormData.data=a):"add"===t?(this.isDisabled=!1,this.$refs.formList.resetFields(),this.modalData.title="添加用户"):"show"===t&&(this.FormData.data=a,this.modalData.title="查看用户"),this.modalData.modalBoolean=!0},closeModal:function(){this.modalData.modalBoolean=!1},addNewQS:function(){this.$emit("callBack",this.FormData.data,this.nowType),this.modalData.modalBoolean=!1}}},l=i,c=(e("c140"),e("2877")),u=Object(c["a"])(l,r,n,!1,null,"8c5efa2a",null),d=u.exports,p=e("4ec3"),g={components:{openUserFrom:d},data:function(){return{FormData:{data:{kw:"",pageSize:20,page:1},rules:{}},table:{total:0,pageSize:20,page:1,loading:!1,height:"515",columns:[{title:"序号",type:"index",width:80,align:"center"},{title:"用户名",align:"center",key:"discount"},{title:"头像",align:"center",slot:"userimg",key:"userimg"},{title:"姓名",align:"center",key:"userName"},{title:"性别",align:"center",slot:"gender",key:"gender"},{title:"年级",align:"center",tooltip:!0,key:"userGrade"},{title:"班级",align:"center",tooltip:!0,key:"userClass"},{title:"角色",align:"center",tooltip:!0,slot:"userRole",key:"userRole"},{title:"手机号",align:"center",tooltip:!0,key:"telephone"},{title:"状态",align:"center",slot:"status",tooltip:!0,key:"status"},{title:"操作",slot:"action",width:280,align:"center"}],tableData:[]}}},mounted:function(){this.getList()},methods:{openUserFrom:function(){this.$refs.openUserFrom.init("add","")},handleAddNewUser:function(t,a){var e=this;"add"===a?this.addNewUserAjax(t):"edit"===a&&(this.table.loading=!0,p["b"].updateUserData({_id:t._id,userName:t.userName,discount:t.discount,password:t.password,telephone:t.telephone,gender:t.gender,userRole:t.userRole,userGrade:t.userGrade,userClass:t.userClass,userimg:t.userimg,status:t.status,stuID:t.stuID,major:t.major,isOnline:t.isOnline}).then((function(t){e.Message("success",t.data.msg),e.getList(),e.table.loading=!1})).catch((function(t){e.Message("error",t.data.msg),e.getList(),e.table.loading=!1})))},searchFn:function(){this.table.page=1,this.getList()},editFn:function(t){var a=this;p["b"].getUserData({_id:t._id}).then((function(t){a.Message("success",t.data.msg),a.$refs.openUserFrom.init("edit",t.data.data[0])})).catch((function(t){a.Message("error",t.data.msg)}))},addNewUserAjax:function(t){var a=this;this.table.loading=!0,p["b"].addUser({data:t}).then((function(t){a.getList(),a.Message("success",t.data.msg),a.table.loading=!1})).catch((function(t){a.getList(),a.Message("error",t.data.msg),a.table.loading=!1}))},resetFn:function(){this.$refs.formList.resetFields()},pageSizeChange:function(t){this.table.pageSize=t,this.getList()},pageChange:function(t){this.table.page=t,this.getList()},getList:function(){var t=this;this.FormData.data.pageSize=this.table.pageSize,this.FormData.data.page=this.table.page,this.table.loading=!0,p["b"].getList(this.FormData.data).then((function(a){t.table.tableData=a.data.info.list,t.table.total=a.data.info.count,t.table.loading=!1})).catch((function(a){t.Message("error",a.data.msg),t.table.loading=!1}))},delFn:function(t){var a=this;this.$Modal.confirm({title:"批量删除",content:"<p>确定要删除吗？</p>",onOk:function(){a.delFnAjax(t._id)},onCancel:function(){a.Message("info","取消删除")}})},delFnAjax:function(t){var a=this;p["b"].delData({ids:t}).then((function(t){a.Message("success",t.data.msg),a.getList(),a.table.loading=!1})).catch((function(t){a.Message("error",t.data.msg),a.getList(),a.table.loading=!1}))},Message:function(t,a,e,s){var o,r;o=null===e||void 0===e||""===e?1.5:e,r=null!==s&&void 0!==s&&""!==s&&s,this.$Message.destroy(),this.$Message[t]({content:a,duration:o,closable:r})}}},m=g,b=Object(c["a"])(m,s,o,!1,null,"137d844a",null);a["default"]=b.exports},"4ec3":function(t,a,e){"use strict";e.d(a,"a",(function(){return o})),e.d(a,"b",(function(){return r})),e.d(a,"d",(function(){return n})),e.d(a,"c",(function(){return i}));var s=e("c1fb"),o={login:function(t){return Object(s["b"])("ManagerCount/api/checkLogin",t)},logOut:function(t){return Object(s["b"])("ManagerCount/api/logOut",t)}},r={addUser:function(t){return Object(s["b"])("ManagerCount/api/addNewUser",t)},updateUserData:function(t){return Object(s["b"])("ManagerCount/api/userDataUpdate",t)},delData:function(t){return Object(s["b"])("ManagerCount/api/DeleteUserData",t)},getUserData:function(t){return Object(s["b"])("ManagerCount/api/getUserData",t)},getList:function(t){return Object(s["b"])("ManagerCount/api/getUserList",t)}},n={showData:function(t){return Object(s["b"])("userPower/api/userMenuPowerShow",t)},saveData:function(t){return Object(s["b"])("userPower/api/userMenuPowerControl",t)}},i={addDecideData:function(t){return Object(s["b"])("addQuestion/api/addDecideData",t)},addSingleData:function(t){return Object(s["b"])("addQuestion/api/addSingleData",t)},addVacancyData:function(t){return Object(s["b"])("addQuestion/api/addVacancyData",t)},addSubjectiveData:function(t){return Object(s["b"])("addQuestion/api/addSubjectiveData",t)},getDecideList:function(t){return Object(s["b"])("getQuestion/api/getDecideList",t)},getSingleList:function(t){return Object(s["b"])("getQuestion/api/getSingleList",t)},getVacancyList:function(t){return Object(s["b"])("getQuestion/api/getVacancyList",t)},getSubjectiveList:function(t){return Object(s["b"])("getQuestion/api/getSubjectiveList",t)},delData:function(t){return Object(s["b"])("deleteQuestion/api/DeleteQuestionData",t)},updateDecideList:function(t){return Object(s["b"])("updateQuestion/api/decideUpdate",t)},updateSingleList:function(t){return Object(s["b"])("updateQuestion/api/singleUpdate",t)},updateVacancyList:function(t){return Object(s["b"])("updateQuestion/api/vacancyUpdate",t)},updateSubjectiveList:function(t){return Object(s["b"])("updateQuestion/api/subjectiveUpdate",t)},getDecideData:function(t){return Object(s["b"])("getQuestion/api/getDecideData",t)},getSingleData:function(t){return Object(s["b"])("getQuestion/api/getSingleData",t)},getVacancyData:function(t){return Object(s["b"])("getQuestion/api/getVacancyData",t)},getSubjectiveData:function(t){return Object(s["b"])("getQuestion/api/getSubjectiveData",t)}}},c140:function(t,a,e){"use strict";var s=e("ee11"),o=e.n(s);o.a},ee11:function(t,a,e){}}]);
//# sourceMappingURL=chunk-7c3b3059.779a3369.js.map